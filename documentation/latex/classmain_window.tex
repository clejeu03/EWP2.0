\hypertarget{classmain_window}{\section{main\-Window \-Class \-Reference}
\label{classmain_window}\index{main\-Window@{main\-Window}}
}


{\ttfamily \#include $<$mainwindow.\-h$>$}

\subsection*{\-Public \-Slots}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classmain_window_a1e3b0c0362c7a00799a5b5ed4383ba68}{update\-Timeline\-Action} (bool a)
\item 
void \hyperlink{classmain_window_ad2056d0c69d6c1f1a94286175ac757ae}{update\-Pinceau\-Action} (bool a)
\item 
void \hyperlink{classmain_window_a8743acd4677c3ff95abfa6fd760dab6e}{update\-Moniteur\-Action} (bool a)
\item 
void \hyperlink{classmain_window_a0afa781b310e1b1d008ec054161d6fcb}{update\-Chutier\-Action} (bool a)
\item 
void \hyperlink{classmain_window_a96c52dfe34f45eda1851e4efbbf40702}{display\-Export\-Window} ()
\item 
void \hyperlink{classmain_window_af26494a82495fa6398cb0b4a67d1e784}{launch\-Video} (\-Q\-List\-Widget\-Item $\ast$item)
\end{DoxyCompactItemize}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmain_window_a467ea0d8090c122e5b5fd69f77ed3476}{main\-Window} ()
\item 
virtual \hyperlink{classmain_window_a2c4caa71599521dbde5bc35b230ed648}{$\sim$main\-Window} ()
\item 
void \hyperlink{classmain_window_adb3a411d0c54b5d4f080326347e7ce5e}{init\-Menu} ()
\item 
void \hyperlink{classmain_window_a7aae51e2fdfc9fc1afab53e046416140}{display\-Chutier} ()
\item 
void \hyperlink{classmain_window_a1d2a0ce69fbeff21f7eab4deaf97d767}{display\-Pinceau} ()
\item 
void \hyperlink{classmain_window_a7211fb7071fd19754a87cfff71be712e}{display\-Moniteur} ()
\item 
void \hyperlink{classmain_window_a37c7daf9d40917684830763578963112}{display\-Timeline} ()
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}


\-Definition at line 26 of file mainwindow.\-h.



\subsection{\-Constructor \& \-Destructor \-Documentation}
\hypertarget{classmain_window_a467ea0d8090c122e5b5fd69f77ed3476}{\index{main\-Window@{main\-Window}!main\-Window@{main\-Window}}
\index{main\-Window@{main\-Window}!mainWindow@{main\-Window}}
\subsubsection[{main\-Window}]{\setlength{\rightskip}{0pt plus 5cm}{\bf main\-Window\-::main\-Window} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmain_window_a467ea0d8090c122e5b5fd69f77ed3476}


\-Definition at line 113 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    centralWidget = new QWidget(this);
    QWidget *container = new QWidget(this); //widgets moniteur + pinceau +
       timeline
    //m_vecPath = new std::vector<QString>();
    mainLayout = new QHBoxLayout;

    VSplitter = new QSplitter(Qt::Vertical, this);
    HSplitter = new QSplitter(Qt::Horizontal, this);

    initMenu();

    displayChutier();

    rightVLayout = new QVBoxLayout;

    QWidget *subContainer = new QWidget(this); //pinceau + moniteur
    hLayout = new QHBoxLayout;
    subRightSplitter = new QSplitter(Qt::Horizontal, this);

    displayPinceau();
    displayMoniteur();
    VSplitter->addWidget(subContainer);

    hLayout->addWidget(subRightSplitter);

    subContainer->setLayout(hLayout);
/*
    container->setStyleSheet("border:1px solid blue;");
    VSplitter->setStyleSheet("border : 1px solid red;");
    subContainer->setStyleSheet("border : 1px solid black;");
*/
    displayTimeline();

    rightVLayout->addWidget(VSplitter);

    container->setLayout(rightVLayout);

    HSplitter->addWidget(container);
    mainLayout->addWidget(HSplitter);
    HSplitter->setStretchFactor(1,2);


    connect(timeline,SIGNAL(sig_show(bool)), this, SLOT(updateTimelineAction(
      bool)));
    connect(pinceau,SIGNAL(sig_show(bool)), this, SLOT(updatePinceauAction(bool
      )));
    connect(moniteur,SIGNAL(sig_show(bool)), this, SLOT(updateMoniteurAction(
      bool)));
    connect(chutier,SIGNAL(sig_show(bool)), this, SLOT(updateChutierAction(bool
      )));

    centralWidget->setLayout(mainLayout);
    setCentralWidget(centralWidget);

}
\end{DoxyCode}
\hypertarget{classmain_window_a2c4caa71599521dbde5bc35b230ed648}{\index{main\-Window@{main\-Window}!$\sim$main\-Window@{$\sim$main\-Window}}
\index{$\sim$main\-Window@{$\sim$main\-Window}!mainWindow@{main\-Window}}
\subsubsection[{$\sim$main\-Window}]{\setlength{\rightskip}{0pt plus 5cm}{\bf main\-Window\-::$\sim$main\-Window} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classmain_window_a2c4caa71599521dbde5bc35b230ed648}


\-Definition at line 166 of file mainwindow.\-cpp.


\begin{DoxyCode}
{

}
\end{DoxyCode}


\subsection{\-Member \-Function \-Documentation}
\hypertarget{classmain_window_a7aae51e2fdfc9fc1afab53e046416140}{\index{main\-Window@{main\-Window}!display\-Chutier@{display\-Chutier}}
\index{display\-Chutier@{display\-Chutier}!mainWindow@{main\-Window}}
\subsubsection[{display\-Chutier}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::display\-Chutier} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmain_window_a7aae51e2fdfc9fc1afab53e046416140}


\-Definition at line 13 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    chutier = new Chutier(this);
    chutier->setStyleSheet("border : 1px solid #d9d9d9;"
                           "border-top-left-radius:5px;"
                           "border-top-right-radius:5px;"
                           "padding-top:20px;");
    chutier->resize(300,600);

    HSplitter->addWidget(chutier);

    chutier->show();
}
\end{DoxyCode}
\hypertarget{classmain_window_a96c52dfe34f45eda1851e4efbbf40702}{\index{main\-Window@{main\-Window}!display\-Export\-Window@{display\-Export\-Window}}
\index{display\-Export\-Window@{display\-Export\-Window}!mainWindow@{main\-Window}}
\subsubsection[{display\-Export\-Window}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::display\-Export\-Window} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}\label{classmain_window_a96c52dfe34f45eda1851e4efbbf40702}


\-Definition at line 96 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    ui_exportWindow = new exportWindow();
    ui_exportWindow->setModal(true); //on empeche le clic sur le reste de la
       fenetre
    ui_exportWindow->exec();

    delete ui_exportWindow;
    ui_exportWindow = NULL;
}
\end{DoxyCode}
\hypertarget{classmain_window_a7211fb7071fd19754a87cfff71be712e}{\index{main\-Window@{main\-Window}!display\-Moniteur@{display\-Moniteur}}
\index{display\-Moniteur@{display\-Moniteur}!mainWindow@{main\-Window}}
\subsubsection[{display\-Moniteur}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::display\-Moniteur} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmain_window_a7211fb7071fd19754a87cfff71be712e}


\-Definition at line 39 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    moniteur = new Moniteur(this);
    moniteur->setStyleSheet("border-top-left-radius:5px;"
                            "border-top-right-radius:5px;");
    subRightSplitter->addWidget(moniteur);
    moniteur->show();
}
\end{DoxyCode}
\hypertarget{classmain_window_a1d2a0ce69fbeff21f7eab4deaf97d767}{\index{main\-Window@{main\-Window}!display\-Pinceau@{display\-Pinceau}}
\index{display\-Pinceau@{display\-Pinceau}!mainWindow@{main\-Window}}
\subsubsection[{display\-Pinceau}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::display\-Pinceau} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmain_window_a1d2a0ce69fbeff21f7eab4deaf97d767}


\-Definition at line 27 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    pinceau = new Pinceau(this);
    pinceau->setStyleSheet("border : 1px solid #d9d9d9;"
                           "border-top-left-radius:5px;"
                           "border-top-right-radius:5px;"
                           "padding-top:20px;");

    subRightSplitter->addWidget(pinceau);
    pinceau->show();
}
\end{DoxyCode}
\hypertarget{classmain_window_a37c7daf9d40917684830763578963112}{\index{main\-Window@{main\-Window}!display\-Timeline@{display\-Timeline}}
\index{display\-Timeline@{display\-Timeline}!mainWindow@{main\-Window}}
\subsubsection[{display\-Timeline}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::display\-Timeline} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmain_window_a37c7daf9d40917684830763578963112}


\-Definition at line 48 of file mainwindow.\-cpp.



\-References \-Track\-::edit().


\begin{DoxyCode}
{
    timeline = new Timeline(this);
    Track *track = new Track();

    qmlRegisterType<Track>("Timeline", 1, 0, "Track");

    /*QListWidget *items = chutier->getMediaList();
    const int numLine = items->currentRow() -1;

    qDebug() << &(m_vecPath[numLine]);*/

    QList<QObject*> dataList;//List passed to the QML : (string name, int
       duration)

    QStringList mediaList;//List of the imported video paths
    mediaList << "/home/cecilia/Vidéos/bunny.mp4" << "
      /home/cecilia/Vidéos/ludovik.mp4";

    //Extrcting the name and the duration of each video selected to be imported
       into the timeline
    for (int i = 0; i < mediaList.size(); ++i){
        VideoCapture * capture = new VideoCapture(mediaList.at(i).toStdString()
      );
        QString fileName = mediaList.at(i);
        fileName.remove(0, ( fileName.lastIndexOf("/")+1) );

        int fps = capture->get(CV_CAP_PROP_FPS);
        double total_frame = capture->get(CV_CAP_PROP_FRAME_COUNT);
        int duration = qRound(total_frame/fps);

        dataList.append(new Track(fileName, duration));
    }
    track->edit();
    //Connecting the QML interfacing and the C++ logic
     QDeclarativeView *view = new QDeclarativeView;
     QDeclarativeContext *ctxt = view->rootContext();
     ctxt->setContextProperty("myModel", QVariant::fromValue(dataList));
     view->setSource(QUrl::fromLocalFile("../EWP2.0/resources/app.qml"));

     //Connecting functions
     QObject *slider = view->rootObject();
     QObject::connect(slider, SIGNAL(sendValues(int, int)),track, SLOT(
      receiveValues(int, int)));
     QObject::connect(slider, SIGNAL(goEditing()),track, SLOT(edit()));



    VSplitter->addWidget(view);
    VSplitter->resize(900, 300);
    //timeline->show();
}
\end{DoxyCode}
\hypertarget{classmain_window_adb3a411d0c54b5d4f080326347e7ce5e}{\index{main\-Window@{main\-Window}!init\-Menu@{init\-Menu}}
\index{init\-Menu@{init\-Menu}!mainWindow@{main\-Window}}
\subsubsection[{init\-Menu}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::init\-Menu} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmain_window_adb3a411d0c54b5d4f080326347e7ce5e}


\-Definition at line 314 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    /*------  INSTANCIATION ACTIONS  ------*/

    m_Nouveau = new QAction("Nouveau...", this);
    m_Nouveau->setShortcut(QKeySequence::New);
    m_Ouvrir = new QAction("Ouvrir...", this);
    m_Ouvrir->setShortcut(QKeySequence::Open);
    m_Enregistrer = new QAction("Enregistrer",this);
    m_Enregistrer->setShortcut(QKeySequence::Save);
    m_EnregistrerSous = new QAction("Enregistrer sous...",this);
    m_EnregistrerSous->setShortcut(QKeySequence::SaveAs);
    m_Importer = new QAction("Importer...",this);
    m_Exporter = new QAction("Exporter...", this);
    m_Quitter = new QAction("Quitter", this);
    m_Quitter->setShortcut(QKeySequence::Quit);


    m_appliquerScript = new QAction("Appliquer un script...", this);
    m_supprimerScript = new QAction("Supprimer les scripts appliqués", this);

    m_lireDernierClip = new QAction("Lire le dernier clip importé", this);
    m_lancerRendu = new QAction("Lancer le rendu", this);

    m_afficherChutier = new QAction("Chutier", this);
    m_afficherChutier->setCheckable(true);
    m_afficherChutier->setChecked(true);
    m_afficherOutils = new QAction("Outil", this);
    m_afficherOutils->setCheckable(true);
    m_afficherOutils->setChecked(true);
    m_afficherMoniteur = new QAction("Moniteur", this);
    m_afficherMoniteur->setCheckable(true);
    m_afficherMoniteur->setChecked(true);
    m_afficherTimeline = new QAction("Timeline", this);
    m_afficherTimeline->setCheckable(true);
    m_afficherTimeline->setChecked(true);

    m_afficherConception = new QAction("Conception",this);
    m_afficherRealisation = new QAction("Réalisation",this);
    m_voirSite = new QAction("http://electronicwallpaper.com",this);

    /*------  INSTANCIATION ITEMS MENU  ------*/

    QMenu *fichier = new QMenu("&Fichier");
    QMenu *script = new QMenu("&Script");
    QMenu *lecteur = new QMenu("&Lecteur");
    QMenu *process = new QMenu("&Process");
    QMenu *affichage = new QMenu("&Affichage");
    QMenu *credits = new QMenu("&Crédits");

    QMenuBar *menu = menuBar();

    menu->addMenu(fichier);
    menu->addMenu(script);
    menu->addMenu(lecteur);
    menu->addMenu(process);
    menu->addMenu(affichage);
    menu->addMenu(credits);

    fichier->addAction(m_Nouveau);
    fichier->addAction(m_Ouvrir);
    fichier->addSeparator();
    fichier->addAction(m_Enregistrer);
    fichier->addAction(m_EnregistrerSous);
    fichier->addSeparator();
    fichier->addAction(m_Importer);
    fichier->addAction(m_Exporter);
    fichier->addSeparator();
    fichier->addAction(m_Quitter);

    script->addAction(m_appliquerScript);
    script->addAction(m_supprimerScript);

    lecteur->addAction(m_lireDernierClip);
    process->addAction(m_lancerRendu);

    affichage->addAction(m_afficherChutier);
    affichage->addAction(m_afficherOutils);
    affichage->addAction(m_afficherMoniteur);
    affichage->addAction(m_afficherTimeline);

    credits->addAction(m_afficherConception);
    credits->addAction(m_afficherRealisation);
    credits->addSeparator();
    credits->addAction(m_voirSite);

    /*------  CONNEXIONS ACTIONS  ------*/

    connect(m_Nouveau, SIGNAL(triggered()), this, SLOT(newProject()));
    connect(m_Ouvrir, SIGNAL(triggered()), this, SLOT(openProject()));
    connect(m_Enregistrer, SIGNAL(triggered()), this, SLOT(save()));
    connect(m_EnregistrerSous, SIGNAL(triggered()), this, SLOT(saveUnder()));
    connect(m_Importer, SIGNAL(triggered()), this, SLOT(openFile()));
    connect(m_Exporter, SIGNAL(triggered()), this, SLOT(displayExportWindow()))
      ;
    connect(m_Quitter,SIGNAL(triggered()),qApp, SLOT(quit()));

    /*
    connect(m_appliquerScript, SIGNAL(triggered()), this, SLOT());
    connect(m_supprimerScript, SIGNAL(triggered()), this, SLOT());
*/

    connect(m_afficherChutier,SIGNAL(triggered()),this, SLOT(showChutier()));
    connect(m_afficherOutils,SIGNAL(triggered()),this, SLOT(showOutils()));
    connect(m_afficherMoniteur,SIGNAL(triggered()),this, SLOT(showMoniteur()));
    connect(m_afficherTimeline,SIGNAL(triggered()),this, SLOT(showTimeline()));

    /*connect(m_lireDernierClip, SIGNAL(triggered()), this, SLOT());
    connect(m_lancerRendu, SIGNAL(triggered()), this, SLOT());*/

    connect(m_afficherConception, SIGNAL(triggered()), this, SLOT(
      showConception()));
  /*    connect(m_afficherRealisation, SIGNAL(triggered()), this, SLOT());*/
    connect(m_voirSite, SIGNAL(triggered()), this, SLOT(visitWebsite()));

}
\end{DoxyCode}
\hypertarget{classmain_window_af26494a82495fa6398cb0b4a67d1e784}{\index{main\-Window@{main\-Window}!launch\-Video@{launch\-Video}}
\index{launch\-Video@{launch\-Video}!mainWindow@{main\-Window}}
\subsubsection[{launch\-Video}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::launch\-Video} (
\begin{DoxyParamCaption}
\item[{\-Q\-List\-Widget\-Item $\ast$}]{item}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}\label{classmain_window_af26494a82495fa6398cb0b4a67d1e784}


\-Definition at line 106 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    const int numLine = item->listWidget()->currentRow() -1;
    moniteur->getPlayer()->setNewMedia( &(m_vecPath[numLine]) );
}
\end{DoxyCode}
\hypertarget{classmain_window_a0afa781b310e1b1d008ec054161d6fcb}{\index{main\-Window@{main\-Window}!update\-Chutier\-Action@{update\-Chutier\-Action}}
\index{update\-Chutier\-Action@{update\-Chutier\-Action}!mainWindow@{main\-Window}}
\subsubsection[{update\-Chutier\-Action}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::update\-Chutier\-Action} (
\begin{DoxyParamCaption}
\item[{bool}]{a}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}\label{classmain_window_a0afa781b310e1b1d008ec054161d6fcb}


\-Definition at line 444 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    m_afficherChutier->setChecked(a);
}
\end{DoxyCode}
\hypertarget{classmain_window_a8743acd4677c3ff95abfa6fd760dab6e}{\index{main\-Window@{main\-Window}!update\-Moniteur\-Action@{update\-Moniteur\-Action}}
\index{update\-Moniteur\-Action@{update\-Moniteur\-Action}!mainWindow@{main\-Window}}
\subsubsection[{update\-Moniteur\-Action}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::update\-Moniteur\-Action} (
\begin{DoxyParamCaption}
\item[{bool}]{a}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}\label{classmain_window_a8743acd4677c3ff95abfa6fd760dab6e}


\-Definition at line 439 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    m_afficherMoniteur->setChecked(a);
}
\end{DoxyCode}
\hypertarget{classmain_window_ad2056d0c69d6c1f1a94286175ac757ae}{\index{main\-Window@{main\-Window}!update\-Pinceau\-Action@{update\-Pinceau\-Action}}
\index{update\-Pinceau\-Action@{update\-Pinceau\-Action}!mainWindow@{main\-Window}}
\subsubsection[{update\-Pinceau\-Action}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::update\-Pinceau\-Action} (
\begin{DoxyParamCaption}
\item[{bool}]{a}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}\label{classmain_window_ad2056d0c69d6c1f1a94286175ac757ae}


\-Definition at line 434 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    m_afficherOutils->setChecked(a);
}
\end{DoxyCode}
\hypertarget{classmain_window_a1e3b0c0362c7a00799a5b5ed4383ba68}{\index{main\-Window@{main\-Window}!update\-Timeline\-Action@{update\-Timeline\-Action}}
\index{update\-Timeline\-Action@{update\-Timeline\-Action}!mainWindow@{main\-Window}}
\subsubsection[{update\-Timeline\-Action}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf main\-Window\-::update\-Timeline\-Action} (
\begin{DoxyParamCaption}
\item[{bool}]{a}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}\label{classmain_window_a1e3b0c0362c7a00799a5b5ed4383ba68}


\-Definition at line 429 of file mainwindow.\-cpp.


\begin{DoxyCode}
{
    m_afficherTimeline->setChecked(a);
}
\end{DoxyCode}


\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{mainwindow_8h}{mainwindow.\-h}\item 
\hyperlink{mainwindow_8cpp}{mainwindow.\-cpp}\end{DoxyCompactItemize}
